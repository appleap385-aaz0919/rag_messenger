'제프리' 라는 AI 메신저를 개발해줘

# 프로젝트: 로컬 문서 기반 AI 메신저 '제프리' 개발

## 프로젝트 개요
로컬 폴더의 문서들을 학습하여 질문에 답변하는 메신저 형태의 AI 에이전트를 개발해주세요.
메신저의 이름은 '제프리'이며, 사용자를 '주인님'으로 호칭합니다.

---

## 핵심 기능 요구사항

### 1. 문서 학습 및 검색 시스템

**대상 폴더 (하위 폴더 포함 모든 파일):**

D:\jaehyuk.myung\바탕 화면(KT ds) 중간보고_산출물_2024.05.28
D:\jaehyuk.myung\바탕 화면\TF
D:\jaehyuk.myung\바탕 화면\두클래스
D:\jaehyuk.myung\바탕 화면\AI DT
D:\jaehyuk.myung\바탕 화면\회사 내규 및 가이드
D:\jaehyuk.myung\바탕 화면\LMS
D:\jaehyuk.myung\바탕 화면\AI_AX_TF

**지원 파일 형식:**
- 문서: .docx, .doc, .pdf, .txt, .md, .hwp
- 스프레드시트: .xlsx, .xls, .csv
- 프레젠테이션: .pptx, .ppt
- 기타: .json, .xml

**기능 요구사항:**
- 앱 실행 시 자동으로 모든 폴더를 스캔하고 파일 내용 인덱싱
- 파일명, 파일 경로, 파일 내용을 모두 검색 가능하도록 구현
- Vector DB 또는 임베딩 기반 유사도 검색 구현 (LangChain + FAISS 또는 ChromaDB 권장)
- 검색 결과에 출처 파일 경로 표시

### 2. 실시간 파일 변경 관리

**사용자 명령어 구현:**
- `/재학습` - 전체 폴더 다시 스캔 및 인덱싱
- `/폴더추가 [경로]` - 새 폴더 추가 및 학습
- `/폴더제거 [경로]` - 특정 폴더 학습 제외
- `/파일목록` - 현재 학습된 파일 목록 확인
- `/상태` - 학습된 파일 개수, 마지막 업데이트 시간 등 표시

**자동 감지 기능 (선택사항):**
- 파일 시스템 watcher를 통해 파일 추가/삭제/수정 자동 감지
- 변경 감지 시 자동 재인덱싱 또는 사용자에게 알림

### 3. AI 응답 시스템

**응답 특성:**
- 모든 응답은 '주인님'이라는 호칭 사용
- 정중하고 비서 같은 말투 (예: "주인님, 찾아드렸습니다", "주인님께서 요청하신 자료는...")
- 답변 시 반드시 참조한 파일명과 경로 함께 제공
- 여러 파일에서 정보를 찾은 경우 모두 출처 표시

**답변 형식 예시:**

주인님, 요청하신 정보를 찾았습니다.
[AI 메신저의 답변 내용]
참조 문서:
D:...\회사 내규 및 가이드\인사규정.pdf (3페이지)
D:...\TF\회의록_2024.03.docx


**검색 실패 시:**
주인님, 죄송합니다. 학습된 문서에서 관련 정보를 찾지 못했습니다.
다른 키워드로 검색하시거나 /재학습 명령으로 최신 파일을 반영해보시겠습니까?


---

## UI/UX 디자인 요구사항

### 전체 레이아웃
- **왼쪽 사이드바 (240px):**
  - 상단: 제프리 프로필 (로봇 아이콘 + "제프리")
  - 대화 목록 (날짜별 그룹핑)
  - 하단: 설정 버튼, 학습 상태 표시

- **메인 채팅 영역:**
  - 상단 헤더: "제프리와의 대화" + 학습된 파일 개수 배지
  - 채팅 메시지 영역
  - 하단 입력창

- **우측 패널 (토글 가능):**
  - 참조 문서 목록
  - 학습된 폴더 구조 트리뷰
  - 최근 검색된 문서 목록

### 색상 시스템
Primary (제프리 메시지): #4A90E2 (신뢰감 있는 파란색)
Secondary (사용자 메시지): #5B7FFF
Background: #FFFFFF
Sidebar: #F5F7FA
Accent (명령어): #FF6B6B
Success (학습 완료): #51CF66
Text Primary: #2C3E50
Text Secondary: #7F8C8D

### 채팅 메시지 디자인

**제프리 메시지:**
- 왼쪽 정렬
- 로봇 아이콘 (28px 원형, 파란색 계열)
- 말풍선: 흰색 배경, 좌측 둥근 모서리(16px), 미세한 그림자
- 호칭 '주인님' 강조 (bold 또는 약간 다른 색상)
- 참조 문서는 클릭 가능한 링크로 표시

**사용자 메시지:**
- 오른쪽 정렬
- 이니셜 아이콘
- 말풍선: Primary 색상 배경, 흰색 텍스트

**명령어 메시지:**
- 시스템 메시지처럼 중앙 정렬
- 회색 배경, 작은 폰트
- 아이콘과 함께 표시 (예: 🔄 재학습 중...)

### 입력 영역
- Placeholder: "주인님, 무엇을 도와드릴까요?"
- 명령어 자동완성 기능
- `/` 입력 시 사용 가능한 명령어 목록 드롭다운 표시
- 전송 버튼: 종이비행기 아이콘

### 특별 UI 요소

**학습 상태 인디케이터:**


[왼쪽 사이드바 하단]
📚 학습 완료
1,247개 파일 | 최종 업데이트: 2분 전
[재학습 버튼]

**로딩 애니메이션:**
- 제프리가 답변 준비 중일 때: "제프리가 문서를 검색하고 있습니다..." + 점 3개 애니메이션
- 재학습 중: 프로그레스 바 + "127/1247 파일 처리 중..."

**파일 참조 카드:**

│📄 회의록_2024.03.docx          │
│ D:...\TF\회의록_2024.03.docx   │
│ [파일 열기] [위치 보기]         │


---

## 기술 스택 요구사항

### 프론트엔드
- React + TypeScript
- Tailwind CSS
- Framer Motion (애니메이션)
- React Icons

### 백엔드/AI
- Node.js + Express (또는 Python + FastAPI)
- LangChain (문서 로딩 및 검색)
- FAISS 또는 ChromaDB (벡터 스토어)
- OpenAI API 또는 로컬 LLM (Ollama)

### 문서 처리
- pdf-parse (PDF)
- mammoth (DOCX)
- xlsx (Excel)
- iconv-lite (인코딩 처리)

### 파일 시스템
- chokidar (파일 변경 감지)
- fs-extra (파일 작업)

---

## 세부 기능 명세

### 초기 실행 시
1. 지정된 폴더들 스캔
2. 지원되는 파일 형식 추출
3. 각 파일 내용을 청크 단위로 분할
4. 임베딩 생성 및 벡터 DB에 저장
5. 완료 시 "주인님, 제프리가 준비되었습니다. 1,247개의 문서를 학습했습니다." 메시지 표시

### 질문 응답 프로세스
1. 사용자 질문 받기
2. 질문을 임베딩으로 변환
3. 벡터 DB에서 유사도 높은 청크 검색 (top 5)
4. 검색된 내용을 컨텍스트로 LLM에게 전달
5. LLM 응답 생성 (반드시 '주인님' 호칭 포함)
6. 출처 파일 정보와 함께 답변 표시

### 명령어 처리
```javascript
// 명령어 매핑 예시
const commands = {
  '/재학습': async () => { /* 전체 재인덱싱 */ },
  '/폴더추가': async (path) => { /* 새 폴더 추가 */ },
  '/폴더제거': async (path) => { /* 폴더 제거 */ },
  '/파일목록': async () => { /* 학습된 파일 리스트 */ },
  '/상태': async () => { /* 시스템 상태 */ }
}
```

---

## 접근성 및 UX

- 키보드 단축키:
  - `Ctrl + /`: 명령어 입력 모드
  - `Ctrl + R`: 재학습
  - `Ctrl + K`: 검색
  - `Enter`: 전송
  - `Shift + Enter`: 줄바꿈

- 다크모드 지원
- 폰트 크기 조절 옵션
- 채팅 내역 검색 기능

---

## 에러 처리

**파일 읽기 실패 시:**
주인님, 죄송합니다.
'문서명.pdf' 파일을 읽는 중 오류가 발생했습니다.
파일이 손상되었거나 접근 권한이 없을 수 있습니다.

**폴더 접근 불가 시:**
주인님, 해당 경로에 접근할 수 없습니다.
경로가 올바른지, 접근 권한이 있는지 확인해주세요.

---

## 개발 시 주의사항

1. **성능 최적화:**
   - 대용량 파일 처리 시 스트리밍 방식 사용
   - 청크 크기 적절히 설정 (1000-2000 토큰 권장)
   - 인덱싱 중에도 UI 반응성 유지

2. **보안:**
   - 로컬 파일만 접근
   - 경로 traversal 공격 방지
   - API 키 환경변수 관리

3. **코드 품질:**
   - 컴포넌트 재사용성 고려
   - 타입스크립트 타입 정의 명확히
   - 주석 상세히 작성
   - 에러 핸들링 철저히

4. **사용자 경험:**
   - 로딩 상태 명확히 표시
   - 긴 작업은 백그라운드 처리
   - 진행률 표시
   - 취소 옵션 제공

---

## 배포 및 실행

- Electron 앱으로 패키징 (크로스 플랫폼 지원)
- 설치 없이 실행 가능한 portable 버전 제공
- 설정 파일로 폴더 경로 관리 (config.json)

---

이 프롬프트를 바탕으로 교육/에듀테크 업무에 최적화된 
개인 비서 AI '제프리'를 개발해주세요.